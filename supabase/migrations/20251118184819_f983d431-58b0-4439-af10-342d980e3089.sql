-- إدخال بيانات 2024-2025
INSERT INTO fiscal_years (name, start_date, end_date, is_active, is_closed)
VALUES ('السنة المالية 2024-2025', '2024-10-25', '2025-10-25', true, false)
ON CONFLICT DO NOTHING;

DO $$
DECLARE v_property_id UUID; v_contract_id UUID;
BEGIN
  INSERT INTO properties (name, type, location, units, occupied, monthly_revenue, status, description)
  VALUES ('مبنى الشقق السكنية', 'عقار سكني', 'المدينة المنورة', 14, 14, 18350, 'نشط', 'مبنى 4 أدوار - 14 شقة')
  RETURNING id INTO v_property_id;

  INSERT INTO contracts (property_id, tenant_name, tenant_id_number, tenant_phone, contract_type, start_date, end_date, monthly_rent, security_deposit, payment_frequency, status, is_renewable, auto_renew) VALUES 
  (v_property_id, 'العصيمي ابراهيم سعد', '1234567890', '0500000001', 'إيجار', '2024-02-10', '2025-02-09', 1300, 1300, 'شهري', 'نشط', true, false),
  (v_property_id, 'السليماني سراج محمد', '1234567891', '0500000002', 'إيجار', '2024-03-15', '2025-03-14', 1000, 1000, 'شهري', 'نشط', true, false),
  (v_property_id, 'ابوالريش ابراهيم', '1234567892', '0500000003', 'إيجار', '2024-01-20', '2025-01-19', 700, 700, 'شهري', 'نشط', true, false),
  (v_property_id, 'الثبيتي ابراهيم', '1234567893', '0500000004', 'إيجار', '2024-04-01', '2025-03-31', 1816, 1816, 'شهري', 'نشط', true, false),
  (v_property_id, 'الثبيتي علي مرزوق', '1234567894', '0500000005', 'إيجار', '2024-05-10', '2025-05-09', 1750, 1750, 'شهري', 'نشط', true, false),
  (v_property_id, 'الثبيتي علي بن مرزوق', '1234567895', '0500000006', 'إيجار', '2024-06-15', '2025-06-14', 1350, 1350, 'شهري', 'نشط', true, false),
  (v_property_id, 'عسيري عبدالله', '1234567896', '0500000007', 'إيجار', '2024-07-01', '2025-06-30', 1200, 1200, 'شهري', 'نشط', true, false),
  (v_property_id, 'الثمالي علي', '1234567897', '0500000008', 'إيجار', '2024-08-10', '2025-08-09', 1350, 1350, 'شهري', 'نشط', true, false),
  (v_property_id, 'الثقفي دباج', '1234567898', '0500000009', 'إيجار', '2024-09-01', '2025-08-31', 1350, 1350, 'شهري', 'نشط', true, false),
  (v_property_id, 'السلمي عامر', '1234567899', '0500000010', 'إيجار', '2024-10-05', '2025-10-04', 1667, 1667, 'شهري', 'نشط', true, false),
  (v_property_id, 'الذبياني سويد', '1234567900', '0500000011', 'إيجار', '2024-11-10', '2025-11-09', 1350, 1350, 'شهري', 'نشط', true, false),
  (v_property_id, 'السيالي مصلح', '1234567901', '0500000012', 'إيجار', '2024-12-01', '2025-11-30', 1667, 1667, 'شهري', 'نشط', true, false),
  (v_property_id, 'المالكي حامد', '1234567902', '0500000013', 'إيجار', '2024-01-15', '2025-01-14', 1350, 1350, 'شهري', 'نشط', true, false),
  (v_property_id, 'وضافة صالح', '1234567903', '0500000014', 'إيجار', '2024-02-20', '2025-02-19', 1000, 1000, 'شهري', 'نشط', true, false);

  RAISE NOTICE 'تم إدخال 14 عقد بنجاح للعقار %', v_property_id;
END $$;