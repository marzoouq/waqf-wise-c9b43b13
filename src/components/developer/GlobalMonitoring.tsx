import { useEffect } from "react";
import { useUserRole } from "@/hooks/useUserRole";
import { useErrorNotifications } from "@/hooks/developer/useErrorNotifications";
import { usePerformanceBudget } from "@/hooks/developer/usePerformanceBudget";

/**
 * ูููู ุนุงู ููุฑุงูุจุฉ ุงูุฃุฏุงุก ูุงูุฃุฎุทุงุก ุนูู ูุงูู ุงูุชุทุจูู
 * ูุนูู ููุท ูููุดุฑููู (Admin)
 */
export function GlobalMonitoring() {
  const { isAdmin, isLoading } = useUserRole();

  // ุชูุนูู ุงูููุฒุงุช ููุท ูููุดุฑููู
  const shouldMonitor = !isLoading && isAdmin;

  // ุชูุนูู ูุฑุงูุจุฉ ุงูุฃุฎุทุงุก - ุฏุงุฆูุงู ุงุณุชุฏุนุงุก ุงูู Hook
  useErrorNotifications(shouldMonitor);

  // ุชูุนูู ูุฑุงูุจุฉ ุงูุฃุฏุงุก - ุฏุงุฆูุงู ุงุณุชุฏุนุงุก ุงูู Hook
  const { violations } = usePerformanceBudget({
    lcp: 2500,
    fcp: 1800,
    cls: 0.1,
    ttfb: 800,
    inp: 200,
  }, shouldMonitor);

  useEffect(() => {
    if (shouldMonitor) {
      console.log(`
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  ๐๏ธ  ุงููุฑุงูุจุฉ ุงูุนุงูุฉ ููุนููุฉ ูููุดุฑู         โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

โ ุงูุฅุดุนุงุฑุงุช ุงูููุฑูุฉ ููุฃุฎุทุงุก
โ ุชูุจููุงุช ุงูุฃุฏุงุก ุงูุชููุงุฆูุฉ
โ ุงููุฑุงูุจุฉ ุนูู ูุงูู ุงูุชุทุจูู

๐ ุงูููุฒุงุช ุงููุดุทุฉ:
  โข ุฅุดุนุงุฑุงุช ุงูุฃุฎุทุงุก ุงูุญุฑุฌุฉ ููุฑุงู
  โข ุชูุจููุงุช ุนูุฏ ุชุฌุงูุฒ ุญุฏูุฏ ุงูุฃุฏุงุก
  โข ูุฑุงูุจุฉ Web Vitals ูุจุงุดุฑุฉ
  โข ุชุชุจุน ุดุงูู ูููุธุงู

๐ฏ ุงููุตูู ุงูุณุฑูุน:
  โข /developer-tools - ููุญุฉ ุงููุทูุฑ ุงููุงููุฉ
      `);
    }
  }, [shouldMonitor]);

  // ูุง ูุนุฑุถ ุฃู UI - ูุฐุง ูููู ูุฑุงูุจุฉ ููุท
  return null;
}
