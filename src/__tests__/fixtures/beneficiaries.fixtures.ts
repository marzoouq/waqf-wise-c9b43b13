/**
 * بيانات اختبار المستفيدين الحقيقية
 * Real Beneficiaries Test Fixtures
 * مطابقة للبيانات الفعلية في قاعدة البيانات
 */

import { Database } from '@/integrations/supabase/types';

type Beneficiary = Database['public']['Tables']['beneficiaries']['Row'];

// البيانات الحقيقية من قاعدة البيانات - 14 مستفيد
export const realBeneficiaries: Partial<Beneficiary>[] = [
  {
    id: 'ben-001',
    full_name: 'محمد مرزوق الثبيتي',
    national_id: '1012345678',
    phone: '0501234567',
    email: 'mohamed@waqf.sa',
    category: 'ابن',
    status: 'نشط',
    gender: 'ذكر',
    date_of_birth: '1980-05-15',
    city: 'الطائف',
    tribe: 'الثبيتي',
    family_name: 'آل الثبيتي',
    iban: 'SA1234567890123456789012',
    bank_name: 'البنك الأهلي',
    account_balance: 15000,
    total_received: 85000,
    total_payments: 6,
    is_head_of_family: true,
    verification_status: 'موثق',
    eligibility_status: 'مؤهل',
    created_at: '2024-01-01T00:00:00Z',
    updated_at: '2024-12-01T00:00:00Z',
  },
  {
    id: 'ben-002',
    full_name: 'عبدالله مرزوق الثبيتي',
    national_id: '1012345679',
    phone: '0501234568',
    category: 'ابن',
    status: 'نشط',
    gender: 'ذكر',
    city: 'الطائف',
    tribe: 'الثبيتي',
    family_name: 'آل الثبيتي',
    account_balance: 12000,
    total_received: 75000,
    total_payments: 5,
    verification_status: 'موثق',
    eligibility_status: 'مؤهل',
    created_at: '2024-01-01T00:00:00Z',
  },
  {
    id: 'ben-003',
    full_name: 'فاطمة مرزوق الثبيتي',
    national_id: '1012345680',
    phone: '0501234569',
    category: 'بنت',
    status: 'نشط',
    gender: 'أنثى',
    city: 'الطائف',
    tribe: 'الثبيتي',
    family_name: 'آل الثبيتي',
    account_balance: 18000,
    total_received: 90000,
    total_payments: 7,
    verification_status: 'موثق',
    eligibility_status: 'مؤهل',
    created_at: '2024-01-01T00:00:00Z',
  },
  {
    id: 'ben-004',
    full_name: 'سارة مرزوق الثبيتي',
    national_id: '1012345681',
    phone: '0501234570',
    category: 'بنت',
    status: 'نشط',
    gender: 'أنثى',
    city: 'الطائف',
    tribe: 'الثبيتي',
    family_name: 'آل الثبيتي',
    account_balance: 16000,
    total_received: 82000,
    total_payments: 6,
    verification_status: 'موثق',
    eligibility_status: 'مؤهل',
    created_at: '2024-01-01T00:00:00Z',
  },
  {
    id: 'ben-005',
    full_name: 'نورة مرزوق الثبيتي',
    national_id: '1012345682',
    phone: '0501234571',
    category: 'زوجة',
    status: 'نشط',
    gender: 'أنثى',
    city: 'الطائف',
    tribe: 'الثبيتي',
    family_name: 'آل الثبيتي',
    account_balance: 20000,
    total_received: 100000,
    total_payments: 8,
    verification_status: 'موثق',
    eligibility_status: 'مؤهل',
    created_at: '2024-01-01T00:00:00Z',
  },
  {
    id: 'ben-006',
    full_name: 'أحمد مرزوق الثبيتي',
    national_id: '1012345683',
    phone: '0501234572',
    category: 'ابن',
    status: 'نشط',
    gender: 'ذكر',
    city: 'الطائف',
    account_balance: 14000,
    total_received: 70000,
    created_at: '2024-01-01T00:00:00Z',
  },
  {
    id: 'ben-007',
    full_name: 'خالد مرزوق الثبيتي',
    national_id: '1012345684',
    phone: '0501234573',
    category: 'ابن',
    status: 'نشط',
    gender: 'ذكر',
    city: 'الطائف',
    account_balance: 13500,
    total_received: 68000,
    created_at: '2024-01-01T00:00:00Z',
  },
  {
    id: 'ben-008',
    full_name: 'هند مرزوق الثبيتي',
    national_id: '1012345685',
    phone: '0501234574',
    category: 'بنت',
    status: 'نشط',
    gender: 'أنثى',
    city: 'الطائف',
    account_balance: 17000,
    total_received: 85000,
    created_at: '2024-01-01T00:00:00Z',
  },
  {
    id: 'ben-009',
    full_name: 'ريم مرزوق الثبيتي',
    national_id: '1012345686',
    phone: '0501234575',
    category: 'بنت',
    status: 'نشط',
    gender: 'أنثى',
    city: 'الطائف',
    account_balance: 16500,
    total_received: 82500,
    created_at: '2024-01-01T00:00:00Z',
  },
  {
    id: 'ben-010',
    full_name: 'عائشة مرزوق الثبيتي',
    national_id: '1012345687',
    phone: '0501234576',
    category: 'زوجة',
    status: 'نشط',
    gender: 'أنثى',
    city: 'الطائف',
    account_balance: 19000,
    total_received: 95000,
    created_at: '2024-01-01T00:00:00Z',
  },
  {
    id: 'ben-011',
    full_name: 'سعود مرزوق الثبيتي',
    national_id: '1012345688',
    phone: '0501234577',
    category: 'ابن',
    status: 'نشط',
    gender: 'ذكر',
    city: 'الطائف',
    account_balance: 12500,
    total_received: 62500,
    created_at: '2024-01-01T00:00:00Z',
  },
  {
    id: 'ben-012',
    full_name: 'منى مرزوق الثبيتي',
    national_id: '1012345689',
    phone: '0501234578',
    category: 'بنت',
    status: 'نشط',
    gender: 'أنثى',
    city: 'الطائف',
    account_balance: 15500,
    total_received: 77500,
    created_at: '2024-01-01T00:00:00Z',
  },
  {
    id: 'ben-013',
    full_name: 'لطيفة مرزوق الثبيتي',
    national_id: '1012345690',
    phone: '0501234579',
    category: 'زوجة',
    status: 'نشط',
    gender: 'أنثى',
    city: 'الطائف',
    account_balance: 18500,
    total_received: 92500,
    created_at: '2024-01-01T00:00:00Z',
  },
  {
    id: 'ben-014',
    full_name: 'عمر مرزوق الثبيتي',
    national_id: '1012345691',
    phone: '0501234580',
    category: 'ابن',
    status: 'نشط',
    gender: 'ذكر',
    city: 'الطائف',
    account_balance: 11000,
    total_received: 55000,
    created_at: '2024-01-01T00:00:00Z',
  },
];

// بيانات جلسات المستفيدين للمراقبة الحية
export const beneficiarySessions = [
  {
    id: 'session-001',
    beneficiary_id: 'ben-001',
    is_online: true,
    current_page: 'نظرة عامة',
    current_section: 'overview',
    last_activity: new Date().toISOString(),
    session_start: new Date(Date.now() - 3600000).toISOString(),
    ip_address: '192.168.1.1',
  },
  {
    id: 'session-002',
    beneficiary_id: 'ben-002',
    is_online: true,
    current_page: 'التوزيعات',
    current_section: 'distributions',
    last_activity: new Date(Date.now() - 300000).toISOString(),
    session_start: new Date(Date.now() - 1800000).toISOString(),
    ip_address: '192.168.1.2',
  },
  {
    id: 'session-003',
    beneficiary_id: 'ben-003',
    is_online: false,
    current_page: 'كشف الحساب',
    current_section: 'statements',
    last_activity: new Date(Date.now() - 86400000).toISOString(),
    session_start: new Date(Date.now() - 90000000).toISOString(),
    ip_address: '192.168.1.3',
  },
];

// Aliases for compatibility with integration tests
export const mockBeneficiaries = realBeneficiaries;
export const mockBeneficiarySessions = beneficiarySessions;

// إحصائيات المستفيدين المحسوبة
export const beneficiaryStats = {
  total: realBeneficiaries.length,
  active: realBeneficiaries.filter(b => b.status === 'نشط').length,
  sons: realBeneficiaries.filter(b => b.category === 'ابن').length,
  daughters: realBeneficiaries.filter(b => b.category === 'بنت').length,
  wives: realBeneficiaries.filter(b => b.category === 'زوجة').length,
  totalReceived: realBeneficiaries.reduce((sum, b) => sum + (b.total_received || 0), 0),
  totalBalance: realBeneficiaries.reduce((sum, b) => sum + (b.account_balance || 0), 0),
};

// Helper functions
export const getActiveBeneficiaries = () => 
  realBeneficiaries.filter(b => b.status === 'نشط');

export const getBeneficiaryById = (id: string) => 
  realBeneficiaries.find(b => b.id === id);

export const getBeneficiariesByCategory = (category: string) => 
  realBeneficiaries.filter(b => b.category === category);

export const getOnlineBeneficiaries = () => 
  beneficiarySessions.filter(s => s.is_online);
