# ๐ฑ ุฏููู ุชุญุฏูุซ ุงูุชุทุจูู (PWA Update Guide)

## ๐ฏ ูุธุงู ุงูุชุญุฏูุซ ุงูุชููุงุฆู

ุชู ุชุญุฏูุซ ุงูุชุทุจูู ุจูุธุงู ุชุญุฏูุซ ุชููุงุฆู ูุญุณูู ูุถูุงู ุญุตูู ุงููุณุชุฎุฏููู ุนูู ุขุฎุฑ ุฅุตุฏุงุฑ ุจุณูุงุณุฉ.

---

## โ๏ธ ููู ูุนูู ุงููุธุงูุ

### 1. **ุงุณุชุฑุงุชูุฌูุฉ ุงูุชุญุฏูุซ: Prompt (ุงุฎุชูุงุฑ ุงููุณุชุฎุฏู)**
```typescript
registerType: 'prompt'
```
- **ุงูุณุงุจู:** `autoUpdate` - ุชุญุฏูุซ ููุฑู ุจุฏูู ุฅุดุนุงุฑ
- **ุงูุญุงูู:** `prompt` - ุฅุดุนุงุฑ ุงููุณุชุฎุฏู ูุงูุณูุงุญ ูู ุจุงูุงุฎุชูุงุฑ
- **ุงููุงุฆุฏุฉ:** ุชุฌุฑุจุฉ ูุณุชุฎุฏู ุฃูุถูุ ุนุฏู ููุงุทุนุฉ ุงูุนูู

### 2. **ูุญุต ุงูุชุญุฏูุซุงุช ูู 30 ุฏูููุฉ**
```typescript
const interval = setInterval(checkForUpdates, 30 * 60 * 1000);
```
- ูุชุญูู ุงูุชุทุจูู ุชููุงุฆูุงู ูู ูุฌูุฏ ุชุญุฏูุซุงุช ูู ูุตู ุณุงุนุฉ
- ูุญุฏุซ ุงููุญุต ูู ุงูุฎูููุฉ ุฏูู ุงูุชุฃุซูุฑ ุนูู ุงูุฃุฏุงุก

### 3. **ุฅุดุนุงุฑ ุชุญุฏูุซ ุฌููู ุจุงูุนุฑุจูุฉ**
```typescript
toast({
  title: "โฌ๏ธ ุชุญุฏูุซ ูุชููุฑ",
  description: "ุฅุตุฏุงุฑ ุฌุฏูุฏ ูู ุงูุชุทุจูู ูุชุงุญ ุงูุขู (v2.0.0)",
  action: <button>ุชุญุฏูุซ ุงูุขู</button>,
  duration: Infinity
});
```
- ุฅุดุนุงุฑ ุฏุงุฆู ุญุชู ูุชุฎุฐ ุงููุณุชุฎุฏู ุฅุฌุฑุงุกู
- ุฒุฑ ูุงุถุญ ููุชุญุฏูุซ ุงูููุฑู
- ุชุตููู ูุชูุงุณู ูุน ูุงุฌูุฉ ุงูุชุทุจูู

---

## ๐ ุฎุทูุงุช ุงูุชุญุฏูุซ ูููุณุชุฎุฏู

### ุนูุฏ ุชููุฑ ุชุญุฏูุซ ุฌุฏูุฏ:

1. **ูุธูุฑ ุฅุดุนุงุฑ ูู ุฃุณูู ุงูุดุงุดุฉ:**
   - ุงูุนููุงู: "โฌ๏ธ ุชุญุฏูุซ ูุชููุฑ"
   - ุงููุตู: "ุฅุตุฏุงุฑ ุฌุฏูุฏ ูู ุงูุชุทุจูู ูุชุงุญ ุงูุขู (v2.0.0)"
   - ุฒุฑ: "ุชุญุฏูุซ ุงูุขู"

2. **ุงููุณุชุฎุฏู ูุฎุชุงุฑ:**
   - **ุงูุถุบุท ุนูู "ุชุญุฏูุซ ุงูุขู"** โ ูุชู ุชุญุฏูุซ ุงูุชุทุจูู ูุฅุนุงุฏุฉ ุชุญููู ุงูุตูุญุฉ
   - **ุชุฌุงูู ุงูุฅุดุนุงุฑ** โ ูุจูู ุงูุฅุดุนุงุฑ ุธุงูุฑุงู ุญุชู ููุฑุฑ ุงููุณุชุฎุฏู

3. **ุจุนุฏ ุงูุถุบุท ุนูู ุงูุชุญุฏูุซ:**
   - ูุชู ุชูุนูู Service Worker ุงูุฌุฏูุฏ
   - ุฅุนุงุฏุฉ ุชุญููู ุงูุตูุญุฉ ุชููุงุฆูุงู
   - ุงูุชุทุจูู ูุนูู ุจุงูุฅุตุฏุงุฑ ุงูุฌุฏูุฏ

---

## ๐๏ธ ุงูุชุบููุฑุงุช ุงูุชูููุฉ

### ูู `vite.config.ts`:

#### ูุจู:
```typescript
registerType: 'autoUpdate',
skipWaiting: true,
clientsClaim: true
```

#### ุจุนุฏ:
```typescript
registerType: 'prompt',
skipWaiting: false,
clientsClaim: false,
navigateFallback: null
```

**ุงูููุงุฆุฏ:**
- โ ุชุญูู ุฃูุถู ูู ุนูููุฉ ุงูุชุญุฏูุซ
- โ ุนุฏู ููุงุทุนุฉ ุงููุณุชุฎุฏู ุฃุซูุงุก ุงูุนูู
- โ ุชุฌุฑุจุฉ ูุณุชุฎุฏู ุฃูุซุฑ ุงุญุชุฑุงููุฉ

### ูู `src/lib/pwa.tsx`:

#### ุงูููุฒุงุช ุงูุฌุฏูุฏุฉ:
1. **ูุญุต ุฏูุฑู:**
   ```typescript
   const interval = setInterval(checkForUpdates, 30 * 60 * 1000);
   ```

2. **ุฑุณุงูุฉ SKIP_WAITING:**
   ```typescript
   newWorker.postMessage({ type: 'SKIP_WAITING' });
   ```

3. **ุฅุนุงุฏุฉ ุชุญููู ุฐููุฉ:**
   ```typescript
   window.location.reload();
   ```

---

## ๐ ุงูุฅุญุตุงุฆูุงุช ูุงูุฃุฏุงุก

### ูุจู ุงูุชุญุฏูุซ:
- โ๏ธ ุชุญุฏูุซ ููุฑู ูุฏ ููุทุน ุนูู ุงููุณุชุฎุฏู
- โ๏ธ ูุง ุชูุฌุฏ ุขููุฉ ูุญุต ุฏูุฑูุฉ
- โ๏ธ ุฅุดุนุงุฑ ุจุณูุท

### ุจุนุฏ ุงูุชุญุฏูุซ:
- โ ุชุญุฏูุซ ุจุงุฎุชูุงุฑ ุงููุณุชุฎุฏู
- โ ูุญุต ุชููุงุฆู ูู 30 ุฏูููุฉ
- โ ุฅุดุนุงุฑ ุงุญุชุฑุงูู ูุน ุฑูู ุงูุฅุตุฏุงุฑ
- โ ุชุฌุฑุจุฉ ูุณุชุฎุฏู ุณูุณุฉ

---

## ๐ฏ ุงุณุชุฑุงุชูุฌูุฉ ุงูุชุฎุฒูู ุงููุคูุช

### 1. **API Calls (NetworkFirst)**
```typescript
urlPattern: /^https:\/\/zsacuvrcohmraoldilph\.supabase\.co\/rest\/.*/i,
handler: 'NetworkFirst',
networkTimeoutSeconds: 10
```
- **ุงูุฃููููุฉ:** ุงูุดุจูุฉ ุฃููุงู
- **ุงูุงุญุชูุงุทู:** Cache ุนูุฏ ูุดู ุงูุดุจูุฉ
- **Timeout:** 10 ุซูุงูู

### 2. **Authentication (NetworkOnly)**
```typescript
urlPattern: /^https:\/\/zsacuvrcohmraoldilph\.supabase\.co\/auth\/.*/i,
handler: 'NetworkOnly'
```
- **ุฏุงุฆูุงู ูู ุงูุดุจูุฉ** - ูุถูุงู ุฃูุงู ุงูุจูุงูุงุช

### 3. **Storage & Images (CacheFirst)**
```typescript
handler: 'CacheFirst',
maxAgeSeconds: 60 * 60 * 24 * 30
```
- **ุงูุฃููููุฉ:** Cache ุฃููุงู
- **ุงูุตูุงุญูุฉ:** 30 ููู

---

## ๐ ููููุฉ ุงูุชุญูู ูู ุงูุชุญุฏูุซุงุช ูุฏููุงู

### ูููุทูุฑูู:

1. **ูุชุญ Console:**
   ```javascript
   // ูุญุต Service Worker ุงูุญุงูู
   navigator.serviceWorker.getRegistration().then(reg => {
     console.log('Current SW:', reg);
     reg.update(); // ูุญุต ุงูุชุญุฏูุซุงุช ูุฏููุงู
   });
   ```

2. **ูู Chrome DevTools:**
   - Application โ Service Workers
   - ุงูุถุบุท ุนูู "Update" ููุชุญุฏูุซ ุงููุฏูู
   - ุงูุถุบุท ุนูู "Skip waiting" ูุชูุนูู SW ุงูุฌุฏูุฏ ููุฑุงู

---

## ๐ ูุตุงุฆุญ ูููุณุชุฎุฏููู

### โ **ุฃูุถู ุงูููุงุฑุณุงุช:**
1. ูู ุจุงูุชุญุฏูุซ ุนูุฏูุง ุชุฑู ุงูุฅุดุนุงุฑ
2. ุชุฃูุฏ ูู ุญูุธ ุนููู ูุจู ุงูุชุญุฏูุซ
3. ุฅุฐุง ููุช ูู ููุชุตู ุนูููุฉ ูููุฉุ ููููู ุชุฃุฌูู ุงูุชุญุฏูุซ

### โ๏ธ **ุชุฌูุจ:**
1. ุชุฌุงูู ุงูุชุญุฏูุซุงุช ููุชุฑุงุช ุทูููุฉ
2. ุฅุบูุงู ุงูุชุทุจูู ุฃุซูุงุก ุงูุชุญุฏูุซ
3. ูุณุญ Cache ุงููุชุตูุญ ุจุงุณุชูุฑุงุฑ

---

## ๐ ุงูุฅุตุฏุงุฑ ุงูุญุงูู

**ุงููุณุฎุฉ:** v2.0.0  
**ุงูุชุงุฑูุฎ:** 2025-11-13  
**ุงูุชุญุณููุงุช ุงูุฑุฆูุณูุฉ:**
- โ ูุธุงู ุชุญุฏูุซ ูุญุณูู
- โ ูุญุต ุฏูุฑู ููุชุญุฏูุซุงุช
- โ ุฅุดุนุงุฑุงุช ุฃูุถู
- โ ุชุฌุฑุจุฉ ูุณุชุฎุฏู ูุญุณููุฉ

---

## ๐ ุงููุฑุงุฌุน

### ูููุทูุฑูู:
- [Vite PWA Plugin Docs](https://vite-pwa-org.netlify.app/)
- [Workbox Strategies](https://developer.chrome.com/docs/workbox/modules/workbox-strategies)
- [Service Worker API](https://developer.mozilla.org/en-US/docs/Web/API/Service_Worker_API)

### ูููุณุชุฎุฏููู:
- ููููุฉ ุชุซุจูุช ุงูุชุทุจูู: `/install`
- ุตูุญุฉ ุงูุฅุนุฏุงุฏุงุช: `/settings`

---

## โ ุงูุฎูุงุตุฉ

ุชู ุชุญุฏูุซ ูุธุงู PWA ุจูุฌุงุญ! ุงูุชุทุจูู ุงูุขู:

- ๐ **ูุชุญุฏุซ ุชููุงุฆูุงู** - ูุญุต ูู 30 ุฏูููุฉ
- ๐ฏ **ุงุญุชุฑุงูู** - ุฅุดุนุงุฑุงุช ูุงุถุญุฉ ุจุงูุนุฑุจูุฉ
- ๐ค **ูุฑู** - ุงููุณุชุฎุฏู ูุฎุชุงุฑ ูุชู ูุญุฏุซ
- ๐ **ุณุฑูุน** - ุงุณุชุฑุงุชูุฌูุงุช ุชุฎุฒูู ูุญุณููุฉ
- ๐ฏ **ููุซูู** - ุฅุฏุงุฑุฉ ุฐููุฉ ูู Service Worker

**๐ ุฌุงูุฒ ููุงุณุชุฎุฏุงู!**

---

**ุงูุชุงุฑูุฎ:** 2025-11-13  
**ุงููููุฐ:** AI Assistant  
**ุงูุญุงูุฉ:** โ ููุชูู
