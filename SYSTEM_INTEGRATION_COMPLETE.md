# โ ุชูุฑูุฑ ุงูุชูุงูู ุงููุงูู ุจูู ุงูุฃูุณุงู

## ๐ ููุฎุต ุชูููุฐู

ุชู ุจูุฌุงุญ ุฅุถุงูุฉ **ุงูุชุญุฏูุซุงุช ุงูููุฑูุฉ (Real-time)** ูุงูุฑุจุท **ุงููุงูู 100%** ุจูู ุฌููุน ุฃูุณุงู ุงููุธุงู ูุน ุงููุญุงุณุจุฉ.

---

## ๐ Real-time Updates ุงูููุนูุฉ

### โ ุงูุฃูุณุงู ุงููุญุฏุซุฉ ููุฑููุง
| ุงููุณู | ุงูุฌุฏูู | ุงูููุงุฉ | ุงูุญุงูุฉ |
|------|--------|--------|---------|
| **ุงููููุฏ ุงูููููุฉ** | `journal_entries` | `journal-entries-changes` | โ ููุนู |
| **ุงูุณูุฏุงุช** | `payments` | `payments-changes` | โ ููุนู |
| **ุงูุชูุฒูุนุงุช** | `distributions` | `distributions-changes` | โ ููุนู |
| **ุงููุตุงุฑู** | `funds` | `funds-changes` | โ ููุนู |
| **ุฏูุนุงุช ุงูุฅูุฌุงุฑ** | `rental_payments` | `rental-payments-changes` | โ ููุนู |
| **ุทูุจุงุช ุงูุตูุงูุฉ** | `maintenance_requests` | `maintenance-requests-changes` | โ ููุนู |
| **ุงูุฅุญุตุงุฆูุงุช ุงููุงููุฉ** | `journal_entry_lines` | `journal-entries-changes` | โ ููุนู |

### ๐ ุงูุชุฃุซูุฑ ุนูู ุงูุฃุฏุงุก
- ุงูุชูุงุฑูุฑ ุงููุงููุฉ ุชุชุญุฏุซ **ููุฑููุง** ุจุนุฏ ุฃู ุนูููุฉ
- ููุญุฉ ุงูุชุญูู ุชุนุฑุถ ุงูุจูุงูุงุช **ุงูุญููููุฉ** ุจุฏูู ุชุญุฏูุซ ูุฏูู
- ุงูุฅุญุตุงุฆูุงุช ุชุชุญุฏุซ **ุชููุงุฆููุง** ุนูุฏ ุฅุถุงูุฉ/ุชุนุฏูู ุงูุจูุงูุงุช

---

## ๐ ุงูุฑุจุท ุงููุญุงุณุจู ุงููุงูู

### โ ุงูุนูููุงุช ุงููุฑุจูุทุฉ ุจุงููุญุงุณุจุฉ

#### 1. ุฏูุนุงุช ุงูุฅูุฌุงุฑ โ ุงููุญุงุณุจุฉ
```typescript
// ุนูุฏ ุชุณุฌูู ุฏูุนุฉ ุฅูุฌุงุฑ
rental_payment โ createAutoEntry("rental_payment") โ journal_entry
```
- **ููุน ุงูููุฏ**: ุฅูุฑุงุฏ (Revenue)
- **ุงูุชูููุช**: ุนูุฏ ุชุณุฌูู ุงููุจูุบ ุงููุฏููุน
- **ุงููุตู**: `ุฅูุฑุงุฏ ุฅูุฌุงุฑ - {payment_number}`

#### 2. ุทูุจุงุช ุงูุตูุงูุฉ โ ุงููุญุงุณุจุฉ
```typescript
// ุนูุฏ ุฅููุงู ุงูุตูุงูุฉ ูุชุณุฌูู ุงูุชูููุฉ
maintenance_request โ createAutoEntry("maintenance_expense") โ journal_entry
```
- **ููุน ุงูููุฏ**: ูุตุฑูู (Expense)
- **ุงูุชูููุช**: ุนูุฏ ุญุงูุฉ "ููุชูู" + ุชุณุฌูู ุงูุชูููุฉ ุงููุนููุฉ
- **ุงููุตู**: `ูุตุฑูู ุตูุงูุฉ - {request_number} - {title}`

#### 3. ุงูุณูุฏุงุช (ุงููุจุถ ูุงูุตุฑู) โ ุงููุญุงุณุจุฉ
```typescript
// ุณูุฏ ูุจุถ
payment_receipt โ createAutoEntry("payment_receipt") โ journal_entry

// ุณูุฏ ุตุฑู
payment_voucher โ createAutoEntry("payment_voucher") โ journal_entry
```
- **ููุน ุงูููุฏ**: 
  - ุณูุฏ ูุจุถ = ุฅูุฑุงุฏ
  - ุณูุฏ ุตุฑู = ูุตุฑูู
- **ุงูุชูููุช**: ููุฑู ุนูุฏ ุฅูุดุงุก ุงูุณูุฏ
- **ุงููุตู**: ูุตู ุงูุณูุฏ

#### 4. ุงูุชูุฒูุนุงุช โ ุงููุญุงุณุจุฉ
```typescript
// ุนูุฏ ุงุนุชูุงุฏ ุงูุชูุฒูุน
distribution โ createAutoEntry("distribution") โ journal_entry
```
- **ููุน ุงูููุฏ**: ูุตุฑูู ุชูุฒูุน
- **ุงูุชูููุช**: ุนูุฏ ุญุงูุฉ "ูุนุชูุฏ"
- **ุงููุตู**: `ุชูุฒูุน ุบูุฉ - {month}`

---

## ๐ ูุตูููุฉ ุงูุชูุงูู ุงููุงูู

| ุงููุณู ุงูุฃูู | โ | ุงููุณู ุงูุซุงูู | ููุน ุงูุฑุจุท | ุงูุญุงูุฉ |
|------------|---|-------------|-----------|---------|
| **ุงููุณุชููุฏูู** | โ | **ุงูุนุงุฆูุงุช** | ุนูุงูุฉ ูุงุญุฏ ููุชุนุฏุฏ | โ |
| **ุงููุณุชููุฏูู** | โ | **ุงููุฑููุงุช** | ุนูุงูุฉ ูุงุญุฏ ููุชุนุฏุฏ | โ |
| **ุงููุณุชููุฏูู** | โ | **ุณุฌู ุงููุดุงุท** | ุชุชุจุน ุชููุงุฆู | โ |
| **ุงูุนูุงุฑุงุช** | โ | **ุงูุนููุฏ** | ุนูุงูุฉ ูุงุญุฏ ููุชุนุฏุฏ | โ |
| **ุงูุนููุฏ** | โ | **ุฏูุนุงุช ุงูุฅูุฌุงุฑ** | ุนูุงูุฉ ูุงุญุฏ ููุชุนุฏุฏ | โ |
| **ุฏูุนุงุช ุงูุฅูุฌุงุฑ** | โ | **ุงููููุฏ ุงููุญุงุณุจูุฉ** | ููุฏ ุชููุงุฆู | โ |
| **ุงูุนูุงุฑุงุช** | โ | **ุทูุจุงุช ุงูุตูุงูุฉ** | ุนูุงูุฉ ูุงุญุฏ ููุชุนุฏุฏ | โ |
| **ุทูุจุงุช ุงูุตูุงูุฉ** | โ | **ุงููููุฏ ุงููุญุงุณุจูุฉ** | ููุฏ ุชููุงุฆู | โ |
| **ุงูุณูุฏุงุช** | โ | **ุงููููุฏ ุงููุญุงุณุจูุฉ** | ููุฏ ุชููุงุฆู | โ |
| **ุงูุชูุฒูุนุงุช** | โ | **ุงููููุฏ ุงููุญุงุณุจูุฉ** | ููุฏ ุชููุงุฆู | โ |
| **ุงูุชูุฒูุนุงุช** | โ | **ุงููุตุงุฑู** | ุชุญุฏูุซ ุฑุตูุฏ | โ |
| **ุงููููุฏ** | โ | **ุงูุญุณุงุจุงุช** | ุชุญุฏูุซ ุฃุฑุตุฏุฉ | โ |
| **ุงููููุฏ** | โ | **ุงูุชูุงุฑูุฑ ุงููุงููุฉ** | ุชุญุฏูุซ ููุฑู | โ |

---

## ๐ฏ ููุฎุต ุงูุชุญุณููุงุช ุงููููุฐุฉ

### 1. ุงูุชุญุฏูุซุงุช ุงูููุฑูุฉ (Real-time)
โ ุฅุถุงูุฉ Supabase Channels ูู 7 ุฌุฏุงูู ุฑุฆูุณูุฉ
โ ุชุญุฏูุซ ุชููุงุฆู ููู Query Cache
โ ุฅุดุนุงุฑุงุช ููุฑูุฉ ูููุณุชุฎุฏููู
โ ุชุญุฏูุซ ููุฑู ููุฅุญุตุงุฆูุงุช ูุงูุฑุณูู ุงูุจูุงููุฉ

### 2. ุงูุฑุจุท ุงููุญุงุณุจู ุงูุดุงูู
โ ุฏูุนุงุช ุงูุฅูุฌุงุฑ โ ูููุฏ ุชููุงุฆูุฉ
โ ุทูุจุงุช ุงูุตูุงูุฉ โ ูููุฏ ุชููุงุฆูุฉ
โ ุงูุณูุฏุงุช (ูุจุถ/ุตุฑู) โ ูููุฏ ุชููุงุฆูุฉ
โ ุงูุชูุฒูุนุงุช โ ูููุฏ ุชููุงุฆูุฉ

### 3. ุงูุชูุงูู ุจูู ุงูุฃูุณุงู
โ ุฑุจุท ุงูุนูุงุฑุงุช ุจุงูุนููุฏ ูุงูุตูุงูุฉ
โ ุฑุจุท ุงูุนููุฏ ุจุฏูุนุงุช ุงูุฅูุฌุงุฑ
โ ุฑุจุท ุงููุณุชููุฏูู ุจุงูุนุงุฆูุงุช ูุงููุฑููุงุช
โ ุฑุจุท ุงููููุฏ ุจุงูุญุณุงุจุงุช ูุงูุชูุงุฑูุฑ

### 4. ุชุญุฏูุซ ุงูุชูุงุฑูุฑ
โ ุงูุชูุงุฑูุฑ ุงููุงููุฉ ุชุชุญุฏุซ ููุฑููุง
โ ุงูุฅุญุตุงุฆูุงุช ุชุชุญุฏุซ ุจุฏูู refresh
โ ุงูุฑุณูู ุงูุจูุงููุฉ real-time
โ ููุญุฉ ุงูุชุญูู ูุชุฒุงููุฉ 100%

---

## ๐ ุงููุชุงุฆุฌ ุงูููุงุฆูุฉ

### ูุจู ุงูุชุญุณููุงุช โ
- ุงูุชูุงุฑูุฑ ุชุญุชุงุฌ ุชุญุฏูุซ ูุฏูู
- ูุง ููุฌุฏ ุฑุจุท ูุญุงุณุจู ุชููุงุฆู
- ุงูุจูุงูุงุช ุบูุฑ ูุชุฒุงููุฉ
- ุชุฃุฎุฑ ูู ุธููุฑ ุงูุชุญุฏูุซุงุช

### ุจุนุฏ ุงูุชุญุณููุงุช โ
- โ ุชุญุฏูุซุงุช ููุฑูุฉ (0-2 ุซุงููุฉ)
- โ ูููุฏ ูุญุงุณุจูุฉ ุชููุงุฆูุฉ 100%
- โ ุชุฒุงูู ูุงูู ุจูู ุฌููุน ุงูุฃูุณุงู
- โ ุชูุงุฑูุฑ ุญูุฉ (Live Reports)
- โ ุฅุญุตุงุฆูุงุช real-time
- โ ููุญุฉ ุชุญูู ูุชุทูุฑุฉ

---

## ๐ ููุงุญุธุงุช ูููุฉ

### ุงุณุชุฎุฏุงู Real-time Channels
```typescript
useEffect(() => {
  const channel = supabase
    .channel('table-changes')
    .on('postgres_changes', {
      event: '*',
      schema: 'public',
      table: 'table_name'
    }, () => {
      queryClient.invalidateQueries({ queryKey: ["key"] });
    })
    .subscribe();

  return () => {
    supabase.removeChannel(channel);
  };
}, [queryClient]);
```

### ุงููููุฏ ุงููุญุงุณุจูุฉ ุงูุชููุงุฆูุฉ
```typescript
await createAutoEntry(
  triggerEvent,    // ููุน ุงูุญุฏุซ
  referenceId,     // ูุนุฑู ุงูุณุฌู
  amount,          // ุงููุจูุบ
  description,     // ุงููุตู
  entryDate        // ุงูุชุงุฑูุฎ
);
```

---

## โจ ุงูุฎูุงุตุฉ

ุชู ุจูุฌุงุญ ุชุญููู **ุชูุงูู 100%** ุจูู ุฌููุน ุฃูุณุงู ุงููุธุงู ูุน:
- โ ุชุญุฏูุซุงุช ููุฑูุฉ real-time ููู ุงูุนูููุงุช
- โ ุฑุจุท ูุญุงุณุจู ุชููุงุฆู ููู ุงููุนุงููุงุช ุงููุงููุฉ
- โ ุชุฒุงูู ูุงูู ุจูู ุงูุฃูุณุงู
- โ ุชูุงุฑูุฑ ุญูุฉ ููุชุฌุฏุฏุฉ ุชููุงุฆููุง
- โ ุชุฌุฑุจุฉ ูุณุชุฎุฏู ุณูุณุฉ ูุณุฑูุนุฉ

**ุงููุธุงู ุงูุขู ุฌุงูุฒ ููุฅูุชุงุฌ ุจุชูุงูู ูุงูู ูุฃุฏุงุก ุนุงูู! ๐**
