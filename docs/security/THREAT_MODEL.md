# ๐ก๏ธ ูููุฐุฌ ุงูุชูุฏูุฏุงุช (Threat Model) - ููู ูุฑุฒูู ุงูุซุจูุชู

> **ุงููููุฌูุฉ:** STRIDE  
> **ุงูุฅุตุฏุงุฑ:** 1.0.0  
> **ุชุงุฑูุฎ ุงูุฅูุดุงุก:** ุฏูุณูุจุฑ 2024  
> **ุขุฎุฑ ูุฑุงุฌุนุฉ:** ุฏูุณูุจุฑ 2024  
> **ุงููุณุคูู:** ูุฑูู ุงูุฃูุงู

---

## ๐ ุงูููุฑุณ

1. [ูุธุฑุฉ ุนุงูุฉ](#ูุธุฑุฉ-ุนุงูุฉ)
2. [ุญุฏูุฏ ุงููุธุงู](#ุญุฏูุฏ-ุงููุธุงู)
3. [ุงูุฃุตูู ุงูุญุณุงุณุฉ](#ุงูุฃุตูู-ุงูุญุณุงุณุฉ)
4. [ุชุญููู STRIDE](#ุชุญููู-stride)
5. [ูุตูููุฉ ุงููุฎุงุทุฑ](#ูุตูููุฉ-ุงููุฎุงุทุฑ)
6. [ุงูุถูุงุจุท ุงููุทุจูุฉ](#ุงูุถูุงุจุท-ุงููุทุจูุฉ)
7. [ุงููุฎุงุทุฑ ุงููุชุจููุฉ](#ุงููุฎุงุทุฑ-ุงููุชุจููุฉ)

---

## ูุธุฑุฉ ุนุงูุฉ

### ูุตู ุงููุธุงู

ููุตุฉ ุฅุฏุงุฑุฉ ุงูุฃููุงู ุงูุดุฑุนูุฉ ุงููุชูุงููุฉ ุงูุชู ุชุดูู:
- ุฅุฏุงุฑุฉ ุงููุณุชููุฏูู ูุงูุชูุฒูุนุงุช
- ุงููุธุงู ุงููุญุงุณุจู ูุงููุงูู
- ุฅุฏุงุฑุฉ ุงูุนูุงุฑุงุช ูุงูุนููุฏ
- ูุธุงู ุงูุญูููุฉ ูุงูุฅูุตุงุญุงุช
- ุจูุงุจุฉ ุงููุณุชููุฏูู

### ูุฎุทุท ุงูููููุงุช ุงูุฑุฆูุณูุฉ

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                        ุงููุณุชุฎุฏููู                                    โ
โ  โโโโโโโโโโโ โโโโโโโโโโโ โโโโโโโโโโโ โโโโโโโโโโโ โโโโโโโโโโโ        โ
โ  โ ุงููุงุธุฑ  โ โ  ูุฏูุฑ   โ โ ูุญุงุณุจ  โ โ ูุงุดูุฑ  โ โ ูุณุชููุฏ โ        โ
โ  โโโโโโฌโโโโโ โโโโโโฌโโโโโ โโโโโโฌโโโโโ โโโโโโฌโโโโโ โโโโโโฌโโโโโ        โ
โโโโโโโโโผโโโโโโโโโโโผโโโโโโโโโโโผโโโโโโโโโโโผโโโโโโโโโโโผโโโโโโโโโโโโโโโโโโ
        โ          โ          โ          โ          โ
        โผ          โผ          โผ          โผ          โผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                     ุทุจูุฉ ุงูุนุฑุถ (React + Vite)                        โ
โ  โโโโโโโโโโโโโโโโโโโ โโโโโโโโโโโโโโโโโโโ โโโโโโโโโโโโโโโโโโโ        โ
โ  โ ููุญุงุช ุงูุชุญูู    โ โ ุฅุฏุงุฑุฉ ุงูุจูุงูุงุช  โ โ ุจูุงุจุฉ ุงููุณุชููุฏ โ        โ
โ  โโโโโโโโโโโโโโโโโโโ โโโโโโโโโโโโโโโโโโโ โโโโโโโโโโโโโโโโโโโ        โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                                โ
                                โผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                    ุทุจูุฉ ุงูุฎุฏูุงุช (Supabase)                           โ
โ  โโโโโโโโโโโโโโโ โโโโโโโโโโโโโโโ โโโโโโโโโโโโโโโ โโโโโโโโโโโโโโโ    โ
โ  โ    Auth     โ โ  Database   โ โ   Storage   โ โ Edge Funcs  โ    โ
โ  โ  (JWT+RLS)  โ โ (PostgreSQL)โ โ  (S3-like)  โ โ  (Deno)     โ    โ
โ  โโโโโโโโโโโโโโโ โโโโโโโโโโโโโโโ โโโโโโโโโโโโโโโ โโโโโโโโโโโโโโโ    โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

---

## ุญุฏูุฏ ุงููุธุงู

### ุฏุงุฎู ูุทุงู ุงูุชุญููู โ

| ุงููููู | ุงููุตู |
|--------|-------|
| **Frontend** | ุชุทุจูู React/Vite ูุน TypeScript |
| **Authentication** | Supabase Auth (JWT) |
| **Database** | PostgreSQL ูุน 231 ุฌุฏูู ู 686 ุณูุงุณุฉ RLS |
| **Storage** | Supabase Storage ูููููุงุช ูุงููุณุชูุฏุงุช |
| **Edge Functions** | 45+ ูุธููุฉ Deno ููููุทู ุงูุฎููู |
| **APIs** | REST APIs ุนุจุฑ Supabase PostgREST |

### ุฎุงุฑุฌ ูุทุงู ุงูุชุญููู โ

| ุงููููู | ุงูุณุจุจ |
|--------|-------|
| ุงูุจููุฉ ุงูุชุญุชูุฉ ูู Supabase | ููุฏุงุฑ ุจูุงุณุทุฉ Supabase Inc. |
| CDN ู DNS | ููุฏุงุฑ ุจูุงุณุทุฉ ูุฒูุฏ ุงูุฎุฏูุฉ |
| ุงูุจุฑูุฏ ุงูุฅููุชุฑููู SMTP | ุฎุฏูุฉ ุฎุงุฑุฌูุฉ |
| ุจูุงุจุงุช ุงูุฏูุน | ุชูุงูู ุฎุงุฑุฌู ูุณุชูุจูู |

---

## ุงูุฃุตูู ุงูุญุณุงุณุฉ

### ุชุตููู ุงูุฃุตูู

| ุงูุฃุตู | ุงูุชุตููู | ุงูุชุฃุซูุฑ ุนูุฏ ุงูุงุฎุชุฑุงู |
|-------|---------|---------------------|
| **ุฃุฑูุงู IBAN** | ๐ด ุญุณุงุณ ุฌุฏุงู | ุณุฑูุฉ ูุงููุฉ ูุจุงุดุฑุฉ |
| **ุฃุฑูุงู ุงููููุฉ ุงููุทููุฉ** | ๐ด ุญุณุงุณ ุฌุฏุงู | ุงูุชุญุงู ูููุฉุ ุงุญุชูุงู |
| **ุจูุงูุงุช ุงููุณุชููุฏูู ุงูุดุฎุตูุฉ** | ๐ ุญุณุงุณ | ุงูุชูุงู ุฎุตูุตูุฉ |
| **ุณุฌูุงุช ุงูุชูุฒูุนุงุช ุงููุงููุฉ** | ๐ ุญุณุงุณ | ูุดู ูุนูููุงุช ูุงููุฉ |
| **ุงููููุฏ ุงููุญุงุณุจูุฉ** | ๐ก ุฏุงุฎูู | ุชูุงุนุจ ูุงูู |
| **ุนููุฏ ุงูุฅูุฌุงุฑ** | ๐ก ุฏุงุฎูู | ูุฒุงุนุงุช ูุงููููุฉ |
| **ุณุฌูุงุช ุงูุชุฏููู** | ๐ข ุนุงู | ููุฏุงู ุงููุณุงุกูุฉ |

### ูุฎุทุท ุชุฏูู ุงูุจูุงูุงุช ุงูุญุณุงุณุฉ

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                    ุชุฏูู ุงูุจูุงูุงุช ุงูุญุณุงุณุฉ                            โ
โ                                                                     โ
โ  ุงููุณุชููุฏ โโโถ [ุฅุฏุฎุงู IBAN] โโโถ [ุชุดููุฑ TLS] โโโถ [RLS] โโโถ DB       โ
โ                                                                     โ
โ  ุงูููุธู โโโถ [ุนุฑุถ ูุฎูู ****] โโโ [ุฅุฎูุงุก] โโโ [RLS] โโโ DB          โ
โ                                                                     โ
โ  ุงูุชูุฒูุน โโโถ [ุงูุชุญูู] โโโถ [ุงูููุฏ ุงููุญุงุณุจู] โโโถ [ุณุฌู ุงูุชุฏููู]      โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

---

## ุชุญููู STRIDE

### S - Spoofing (ุงูุชุญุงู ุงููููุฉ)

| ุฑูู | ุงูุชูุฏูุฏ | ุงูุงุญุชูุงู | ุงูุฃุซุฑ | ุงููุฎุงุทุฑุฉ | ุงูุถูุงุจุท ุงููุทุจูุฉ |
|-----|---------|----------|-------|----------|-----------------|
| S1 | ุงูุชุญุงู ูููุฉ ูุณุชููุฏ ููุญุตูู ุนูู ุชูุฒูุนุงุช | ูุชูุณุท | ุนุงูู | ๐ | JWT Auth + ุฑูู ุงููููุฉ ุงููุทููุฉ + ุงูุชุญูู ุงููุฏูู |
| S2 | ุงูุชุญุงู ูููุฉ ููุธู ูููุตูู ูููุธุงู | ููุฎูุถ | ุนุงูู | ๐ก | MFA (ุงุฎุชูุงุฑู) + ุณุฌูุงุช ุงูุฏุฎูู + ุชูุจููุงุช ุงูุฌูุณุงุช |
| S3 | ุงูุชุญุงู Edge Function ุนุจุฑ webhook ูุฒูู | ููุฎูุถ | ูุชูุณุท | ๐ข | ุงูุชุญูู ูู JWT + CORS + Rate Limiting |
| S4 | ุณุฑูุฉ Session Token | ููุฎูุถ | ุนุงูู | ๐ก | HTTP-only cookies + Refresh rotation + ุงูุชูุงุก ุงูุฌูุณุฉ |

#### ุถูุงุจุท S - Spoofing

```sql
-- ุงูุชุญูู ูู ุงููุณุชุฎุฏู ูู ูู ุทูุจ
CREATE POLICY "verify_user_identity" ON public.beneficiaries
USING (
  user_id = auth.uid() 
  OR public.has_staff_access()
);

-- ุณุฌู ูุญุงููุงุช ุงูุฏุฎูู ุงููุงุดูุฉ
CREATE TABLE login_attempts (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  email TEXT NOT NULL,
  ip_address INET,
  user_agent TEXT,
  success BOOLEAN,
  created_at TIMESTAMPTZ DEFAULT now()
);
```

---

### T - Tampering (ุงูุชูุงุนุจ)

| ุฑูู | ุงูุชูุฏูุฏ | ุงูุงุญุชูุงู | ุงูุฃุซุฑ | ุงููุฎุงุทุฑุฉ | ุงูุถูุงุจุท ุงููุทุจูุฉ |
|-----|---------|----------|-------|----------|-----------------|
| T1 | ุชุนุฏูู ูุจุงูุบ ุงูุชูุฒูุนุงุช ูู ุงูุทูุจ | ููุฎูุถ | ุนุงูู | ๐ก | RLS + ุณูุฑ ุงูููุงููุงุช + ุณุฌูุงุช ุงูุชุฏููู |
| T2 | ุชุนุฏูู ุงููููุฏ ุงููุญุงุณุจูุฉ ุงููุนุชูุฏุฉ | ููุฎูุถ ุฌุฏุงู | ุนุงูู | ๐ข | ููู ุงููููุฏ ุจุนุฏ ุงูุงุนุชูุงุฏ + ุณุฌู immutable |
| T3 | ุชุนุฏูู ุจูุงูุงุช IBAN ูููุณุชููุฏ | ููุฎูุถ | ุนุงูู | ๐ก | ุฅุดุนุงุฑ ุงููุณุชููุฏ + ุณุฌู ุงูุชุบููุฑุงุช + ููุงููุฉ ุฅุฏุงุฑูุฉ |
| T4 | ุญูู SQL ุนุจุฑ ุงููุฏุฎูุงุช | ููุฎูุถ ุฌุฏุงู | ุนุงูู | ๐ข | Parameterized queries + Supabase SDK |

#### ุถูุงุจุท T - Tampering

```sql
-- ููุน ุชุนุฏูู ุงููููุฏ ุงููุนุชูุฏุฉ
CREATE OR REPLACE FUNCTION prevent_approved_entry_modification()
RETURNS TRIGGER AS $$
BEGIN
  IF OLD.status = 'approved' THEN
    RAISE EXCEPTION 'ูุง ูููู ุชุนุฏูู ููุฏ ูุนุชูุฏ';
  END IF;
  RETURN NEW;
END;
$$ LANGUAGE plpgsql;

-- ุชุณุฌูู ุฌููุน ุงูุชุบููุฑุงุช
CREATE TRIGGER audit_beneficiary_changes
AFTER UPDATE ON beneficiaries
FOR EACH ROW EXECUTE FUNCTION log_changes();
```

---

### R - Repudiation (ุงูุฅููุงุฑ)

| ุฑูู | ุงูุชูุฏูุฏ | ุงูุงุญุชูุงู | ุงูุฃุซุฑ | ุงููุฎุงุทุฑุฉ | ุงูุถูุงุจุท ุงููุทุจูุฉ |
|-----|---------|----------|-------|----------|-----------------|
| R1 | ุฅููุงุฑ ุงูููุธู ุตุฑู ูุจูุบ ูููุณุชููุฏ | ูุชูุณุท | ุนุงูู | ๐ | ุณุฌูุงุช ุชุฏููู ููุตูุฉ + ุชูููุน ุฑููู + timestamps |
| R2 | ุฅููุงุฑ ุงููุณุชููุฏ ุงุณุชูุงู ุงูุชูุฒูุน | ูุชูุณุท | ูุชูุณุท | ๐ก | ุฑูู ูุฑุฌุนู ุจููู + ุฅุดุนุงุฑ SMS + ุณุฌู ุจููู |
| R3 | ุฅููุงุฑ ุงูููุงููุฉ ุนูู ุนูุฏ | ููุฎูุถ | ูุชูุณุท | ๐ข | ุณูุฑ ุงูููุงููุงุช + ุณุฌู approval_history |

#### ุถูุงุจุท R - Repudiation

```sql
-- ุณุฌู ุชุฏููู ุดุงูู ูุบูุฑ ูุงุจู ููุชุนุฏูู
CREATE TABLE audit_logs (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  user_id UUID REFERENCES auth.users,
  action_type TEXT NOT NULL,
  table_name TEXT,
  record_id TEXT,
  old_values JSONB,
  new_values JSONB,
  ip_address INET,
  user_agent TEXT,
  created_at TIMESTAMPTZ DEFAULT now()
);

-- ููุน ุญุฐู ุณุฌูุงุช ุงูุชุฏููู
CREATE POLICY "no_delete_audit" ON audit_logs
FOR DELETE USING (false);
```

---

### I - Information Disclosure (ูุดู ุงููุนูููุงุช)

| ุฑูู | ุงูุชูุฏูุฏ | ุงูุงุญุชูุงู | ุงูุฃุซุฑ | ุงููุฎุงุทุฑุฉ | ุงูุถูุงุจุท ุงููุทุจูุฉ |
|-----|---------|----------|-------|----------|-----------------|
| I1 | ุชุณุฑูุจ ุฃุฑูุงู IBAN ูููุณุชููุฏูู | ููุฎูุถ | ุนุงูู | ๐ก | ุฅุฎูุงุก ุฌุฒุฆู (****) + RLS ุตุงุฑูุฉ |
| I2 | ูุดู ุฃุฑูุงู ุงููููุฉ ุงููุทููุฉ | ููุฎูุถ | ุนุงูู | ๐ก | ุฅุฎูุงุก ุฌุฒุฆู + ุชูููุฏ ุงููุตูู |
| I3 | ุชุณุฑูุจ ุชูุงุตูู ุชูุฒูุนุงุช ุงูุขุฎุฑูู | ูุชูุณุท | ูุชูุณุท | ๐ก | RLS ุนูู ูุณุชูู ุงูุตู + ููุชุฑุฉ ุงูุจูุงูุงุช |
| I4 | ูุดู ูุนูููุงุช ูุงููุฉ ูู Console | ููุฎูุถ | ููุฎูุถ | ๐ข | ุชูุธูู console.log ูู ุงูุฅูุชุงุฌ |

#### ุถูุงุจุท I - Information Disclosure

```sql
-- View ูุฎููุฉ ููุจูุงูุงุช ุงูุญุณุงุณุฉ
CREATE VIEW beneficiaries_masked AS
SELECT 
  id,
  full_name,
  '****' || RIGHT(national_id, 4) as national_id_masked,
  '****' || RIGHT(iban, 4) as iban_masked,
  category,
  status
FROM beneficiaries;

-- RLS ุชููุน ุฑุคูุฉ ุจูุงูุงุช ุงูุขุฎุฑูู
CREATE POLICY "beneficiary_own_data" ON payment_vouchers
FOR SELECT USING (
  beneficiary_id IN (
    SELECT id FROM beneficiaries WHERE user_id = auth.uid()
  )
  OR public.has_staff_access()
);
```

---

### D - Denial of Service (ุฑูุถ ุงูุฎุฏูุฉ)

| ุฑูู | ุงูุชูุฏูุฏ | ุงูุงุญุชูุงู | ุงูุฃุซุฑ | ุงููุฎุงุทุฑุฉ | ุงูุถูุงุจุท ุงููุทุจูุฉ |
|-----|---------|----------|-------|----------|-----------------|
| D1 | ุฅุบุฑุงู Edge Functions ุจุทูุจุงุช | ูุชูุณุท | ูุชูุณุท | ๐ก | Rate limiting + Timeout + Auto-scaling |
| D2 | ุงุณุชูุฒุงู ุญุตุฉ ูุงุนุฏุฉ ุงูุจูุงูุงุช | ููุฎูุถ | ุนุงูู | ๐ก | Connection pooling + Query limits |
| D3 | ููุก Storage ุจูููุงุช ูุจูุฑุฉ | ููุฎูุถ | ูุชูุณุท | ๐ข | ุญุฏูุฏ ุญุฌู ุงูููู + ุญุตุต ุงูุชุฎุฒูู |
| D4 | ุงุณุชูุฒุงู ุญุตุฉ AI/API | ูุชูุณุท | ููุฎูุถ | ๐ข | Rate limiting + ุญุฏูุฏ ููููุฉ |

#### ุถูุงุจุท D - DoS

```typescript
// Rate limiting ูู Edge Functions
const rateLimiter = new Map<string, number[]>();
const RATE_LIMIT = 100; // requests
const WINDOW = 60000; // 1 minute

function checkRateLimit(userId: string): boolean {
  const now = Date.now();
  const requests = rateLimiter.get(userId) || [];
  const recent = requests.filter(t => now - t < WINDOW);
  
  if (recent.length >= RATE_LIMIT) {
    return false;
  }
  
  recent.push(now);
  rateLimiter.set(userId, recent);
  return true;
}
```

---

### E - Elevation of Privilege (ุชุตุนูุฏ ุงูุตูุงุญูุงุช)

| ุฑูู | ุงูุชูุฏูุฏ | ุงูุงุญุชูุงู | ุงูุฃุซุฑ | ุงููุฎุงุทุฑุฉ | ุงูุถูุงุจุท ุงููุทุจูุฉ |
|-----|---------|----------|-------|----------|-----------------|
| E1 | ูุณุชููุฏ ูุตู ููุธุงุฆู ุงูุฅุฏุงุฑุฉ | ููุฎูุถ ุฌุฏุงู | ุนุงูู | ๐ข | RLS + Frontend guards + Backend validation |
| E2 | ููุธู ูุฑูุน ุตูุงุญูุงุชู | ููุฎูุถ ุฌุฏุงู | ุนุงูู | ๐ข | ูุตู ุฃุฏูุงุฑ ุตุงุฑู + ุณุฌูุงุช ุชุบููุฑ ุงูุฃุฏูุงุฑ |
| E3 | ุชุฌุงูุฒ RLS ุนุจุฑ Edge Function | ููุฎูุถ | ุนุงูู | ๐ก | Service role ูุญุฏูุฏ + Validation |
| E4 | ุฅูุดุงุก ูุณุชุฎุฏู admin ูุจุงุดุฑุฉ | ููุฎูุถ ุฌุฏุงู | ุนุงูู | ๐ข | RLS ุนูู user_roles + ุงููุงุธุฑ ููุท |

#### ุถูุงุจุท E - Privilege Escalation

```sql
-- ููุน ุชุบููุฑ ุงูุฃุฏูุงุฑ ุฅูุง ุจูุงุณุทุฉ ุงููุงุธุฑ
CREATE POLICY "only_nazer_manages_roles" ON user_roles
FOR ALL USING (public.has_role(auth.uid(), 'nazer'));

-- Security Definer Functions
CREATE OR REPLACE FUNCTION has_role(_user_id UUID, _role TEXT)
RETURNS BOOLEAN
LANGUAGE sql
STABLE
SECURITY DEFINER
SET search_path = public
AS $$
  SELECT EXISTS (
    SELECT 1 FROM user_roles
    WHERE user_id = _user_id AND role = _role
  )
$$;
```

---

## ูุตูููุฉ ุงููุฎุงุทุฑ

### ุฎุฑูุทุฉ ุญุฑุงุฑูุฉ ูููุฎุงุทุฑ

```
ุงูุฃุซุฑ โฒ
  ุนุงูู โ  S1,T1,T3   โ  R1         โ  
       โ  I1,I2      โ             โ  
       โโโโโโโโโโโโโโโผโโโโโโโโโโโโโโค
 ูุชูุณุท โ  D1,I3      โ  R2         โ  
       โ             โ             โ  
       โโโโโโโโโโโโโโโผโโโโโโโโโโโโโโค
 ููุฎูุถ โ  D4         โ             โ  
       โ             โ             โ  
       โโโโโโโโโโโโโโโดโโโโโโโโโโโโโโดโโโถ
              ูุชูุณุท         ุนุงูู     ุงูุงุญุชูุงู
```

### ุชุฑุชูุจ ุงููุฎุงุทุฑ ุญุณุจ ุงูุฃููููุฉ

| ุงูุฃููููุฉ | ุงูุชูุฏูุฏ | ุงูุฅุฌุฑุงุก ุงููุทููุจ |
|----------|---------|-----------------|
| ๐ด 1 | S1 - ุงูุชุญุงู ูููุฉ ุงููุณุชููุฏ | ุชูุนูู MFA + ุชุญูู ุฅุถุงูู |
| ๐ด 2 | I1, I2 - ุชุณุฑูุจ IBAN/ุงููููุฉ | ูุฑุงุฌุนุฉ Views ุงููุฎููุฉ |
| ๐ 3 | R1 - ุฅููุงุฑ ุงูุตุฑู | ุชุญุณูู ุณุฌูุงุช ุงูุชุฏููู |
| ๐ 4 | T1, T3 - ุชุนุฏูู ุงููุจุงูุบ | ูุฑุงุฌุนุฉ ุณูุฑ ุงูููุงููุงุช |
| ๐ก 5 | D1 - ุฅุบุฑุงู Edge Functions | ุชุทุจูู Rate Limiting |

---

## ุงูุถูุงุจุท ุงููุทุจูุฉ

### ููุฎุต ุงูุถูุงุจุท

| ุงููุฆุฉ | ุนุฏุฏ ุงูุถูุงุจุท | ุงูุญุงูุฉ |
|-------|-------------|--------|
| **ุงููุตุงุฏูุฉ** | 8 | โ ูุทุจูุฉ |
| **ุงูุชูููุถ (RLS)** | 686 | โ ูุทุจูุฉ |
| **ุงูุชุดููุฑ** | 3 | โ ูุทุจูุฉ |
| **ุงูุชุฏููู** | 5 | โ ูุทุจูุฉ |
| **ุงูุฅุฎูุงุก** | 4 | โ ูุทุจูุฉ |
| **Rate Limiting** | 2 | โ๏ธ ุฌุฒุฆู |

### ุงูุถูุงุจุท ุงูุชูููุฉ

| ุงูุถุงุจุท | ุงููุตู | ุงููููุงุช |
|--------|-------|---------|
| `has_role()` | ุงูุชุญูู ูู ุงูุฃุฏูุงุฑ | `database functions` |
| `is_admin_or_nazer()` | ุตูุงุญูุงุช ุงูุฅุฏุงุฑุฉ | `database functions` |
| `has_staff_access()` | ุตูุงุญูุงุช ุงูููุธููู | `database functions` |
| `audit_logs` | ุณุฌูุงุช ุงูุชุฏููู | `audit_logs table` |
| `beneficiaries_masked` | ุฅุฎูุงุก ุงูุจูุงูุงุช | `database views` |
| `PermissionGate` | ุญูุงูุฉ ุงููุงุฌูุฉ | `src/components/` |

---

## ุงููุฎุงุทุฑ ุงููุชุจููุฉ

### ุงููุฎุงุทุฑ ุงูููุจููุฉ (Accepted)

| ุงููุฎุงุทุฑุฉ | ุงูุณุจุจ | ุงููุงูู | ุชุงุฑูุฎ ุงููุฑุงุฌุนุฉ |
|----------|-------|--------|---------------|
| ุดูุงููุฉ ุงูููู ูููุฑุซุฉ | ูุชุทูุจ ุดุฑุนู | ูุฌูุณ ุงูุฅุฏุงุฑุฉ | 2026-01 |
| ุจูุงูุงุช ุงูุงุชุตุงู ุงูุนุงูุฉ | ููุชูุงุตู | ุงูุชุณููู | 2026-01 |

### ุงููุฎุงุทุฑ ููุฏ ุงููุนุงูุฌุฉ

| ุงููุฎุงุทุฑุฉ | ุงูุฅุฌุฑุงุก | ุงูููุนุฏ | ุงููุณุคูู |
|----------|---------|--------|---------|
| Rate Limiting ุดุงูู | ุชุทุจูู ุนูู ุฌููุน ุงูู endpoints | Q1 2025 | ูุฑูู ุงูุชุทููุฑ |
| MFA ุฅูุฒุงูู ููููุธููู | ุชูุนูู ููุฃุฏูุงุฑ ุงูุญุณุงุณุฉ | Q1 2025 | ูุฑูู ุงูุฃูุงู |

---

## ุณุฌู ุงููุฑุงุฌุนุงุช

| ุงูุชุงุฑูุฎ | ุงูุฅุตุฏุงุฑ | ุงูุชุบููุฑุงุช | ุงููุฑุงุฌุน |
|---------|---------|-----------|---------|
| ุฏูุณูุจุฑ 2024 | 1.0.0 | ุงูุฅุตุฏุงุฑ ุงูุฃููู | ูุฑูู ุงูุฃูุงู |

---

> **ููุงุญุธุฉ:** ูุฌุจ ูุฑุงุฌุนุฉ ูุฐุง ุงููุณุชูุฏ ูู 6 ุฃุดูุฑ ุฃู ุนูุฏ ุญุฏูุซ ุชุบููุฑุงุช ุฌููุฑูุฉ ูู ุงููุธุงู.
