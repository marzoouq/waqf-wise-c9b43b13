# ๐ ุฏููู ุงููุทูุฑ ุงูุดุงูู | Developer Master Guide

**ุงููุณุฎุฉ:** 2.6.27  
**ุงูุชุงุฑูุฎ:** 5 ุฏูุณูุจุฑ 2025  
**ุงูุญุงูุฉ:** 100% ููุชูู - ุฌุงูุฒ ููุฅูุชุงุฌ

---

## ๐ ุณุฌู ุงูุชุบููุฑุงุช

| ุงูุชุงุฑูุฎ | ุงูุฅุตุฏุงุฑ | ุงูุชุบููุฑ |
|---------|---------|---------|
| 2025-12-05 | 2.6.27 | ุฅุตูุงุญ ุฃููู ุญุฑุฌ - ุชุญููู 90+ ุณูุงุณุฉ RLS ูู public ุฅูู authenticated |
| 2025-12-05 | 2.6.17 | ุฅุตูุงุญ Type Safety ุดุงูู (useState, as any, Record<string,any>, console.log) |
| 2025-12-05 | 2.6.16 | ุชูุญูุฏ RoleName ูุน DB + ุฅุตูุงุญ UserRolesManager |
| 2025-12-04 | 2.6.12 | ุฅุตูุงุญ ุดุงูู ูู PDF ูุงูุทุจุงุนุฉ + ุชูุญูุฏ ุฃุฏูุงุช ุงูุชุตุฏูุฑ + ุญุฐู export-utils.ts |
| 2025-12-04 | 2.6.11 | ูุธุงู ุชูุงุฑูุฑ ููุญุฏ ูุน Real-time + UnifiedDashboardKPIs + ReportRefreshIndicator |
| 2025-12-03 | 2.6.10 | ุฅุตูุงุญ Race Condition ูู ุชุณุฌูู ุงูุฏุฎูู |
| 2025-12-03 | 2.6.9 | ุงุณุชุจุฏุงู xlsx ุจู exceljs (ุฅุตูุงุญ CVE-2024-22363) + ุชูุซูู ุณูุงุณุฉ ุงูููุชุจุงุช |
| 2025-12-03 | 2.6.8 | ุฅุตูุงุญ ููุงุฆู ูุฎุทุฃ useLayoutEffect (ุฏูุฌ Radix UI ูุน vendor) |
| 2025-12-03 | 2.6.7 | ุฅุตูุงุญ useLayoutEffect (ุฏูุฌ React ูุน vendor) |
| 2025-12-03 | 2.6.6 | ุชุญุณูู ุณุฑุนุฉ ุงูุตูุญุฉ ุงูุชุฑุญูุจูุฉ (< 0.5s) |
| 2025-12-03 | 2.6.5 | ุชุญุณูู LCP ููุตูุญุฉ ุงูุชุฑุญูุจูุฉ |
| 2025-12-02 | 2.6.4 | ุชุญุณูู ุงูุฃุฏุงุก 70% + ุชูุธูู 152 hook |
| 2025-12-02 | 2.6.0 | ุฅุตูุงุญุงุช ุฃูููุฉ + RLS |

---

## ๐ฏ ูุธุฑุฉ ุนุงูุฉ

ููุตุฉ ุฅุฏุงุฑุฉ ุงูููู ุงูุฅููุชุฑูููุฉ ูู ุชุทุจูู ููุจ ูุชูุงูู ูุฅุฏุงุฑุฉ ุงูุฃููุงู ุงูุฅุณูุงููุฉ.

### ุงูุชูููุงุช ุงูุฃุณุงุณูุฉ
- **Frontend:** React 18.3 + TypeScript + Vite + Tailwind CSS
- **Backend:** Supabase (PostgreSQL + Edge Functions)
- **State Management:** TanStack React Query v5
- **Forms:** React Hook Form + Zod
- **UI Components:** Radix UI + shadcn/ui

---

## ๐ ุญุงูุฉ ุงููุดุฑูุน

### ุงูุฅุญุตุงุฆูุงุช ุงูุฑุฆูุณูุฉ

```
๐ ุงูููุฏ:
โโ 74 ุตูุญุฉ
โโ 40+ ูุฌูุฏ ููููุงุช
โโ 152 Custom Hook (18 ูุฌูุฏ ูุฑุนู)
โโ 39 Edge Function
โโ 14 ุฎุฏูุฉ (Service)
โโ ~55,000 ุณุทุฑ TypeScript/React

๐๏ธ ูุงุนุฏุฉ ุงูุจูุงูุงุช:
โโ 162 ุฌุฏูู
โโ 10 Views
โโ 138 ุฏุงูุฉ
โโ 100% RLS Coverage
โโ 15 ูุณุชููุฏุ 9 ุชูุฒูุนุงุชุ 3 ุนูุงุฑุงุช

๐ ุงูุฃูุงู:
โโ 7 ุฃุฏูุงุฑ (Roles)
โโ 50+ ุตูุงุญูุฉ (Permissions)
โโ 50 ุฅุนุฏุงุฏ ุดูุงููุฉ
โโ Audit Logs ุดุงููุฉ
```

---

## ๐๏ธ ุงูุจููุฉ ุงููุนูุงุฑูุฉ

### ูููู ุงููุฌูุฏุงุช

```
src/
โโ pages/              # 74 ุตูุญุฉ
โโ components/         # 40+ ูุฌูุฏ
โโ hooks/              # 152 hook (18 ูุฌูุฏ ูุฑุนู)
โ  โโ accounting/      # hooks ุงููุญุงุณุจุฉ
โ  โโ approval/        # hooks ุงูููุงููุงุช
โ  โโ archive/         # hooks ุงูุฃุฑุดูู
โ  โโ auth/            # hooks ุงููุตุงุฏูุฉ
โ  โโ beneficiary/     # hooks ุงููุณุชููุฏูู
โ  โโ contracts/       # hooks ุงูุนููุฏ
โ  โโ dashboard/       # hooks ููุญุงุช ุงูุชุญูู
โ  โโ distributions/   # hooks ุงูุชูุฒูุนุงุช
โ  โโ export/          # hooks ุงูุชุตุฏูุฑ
โ  โโ fiscal/          # hooks ุงูุณูุฉ ุงููุงููุฉ
โ  โโ loans/           # hooks ุงููุฑูุถ
โ  โโ monitoring/      # hooks ุงููุฑุงูุจุฉ
โ  โโ notifications/   # hooks ุงูุฅุดุนุงุฑุงุช
โ  โโ properties/      # hooks ุงูุนูุงุฑุงุช
โ  โโ reports/         # hooks ุงูุชูุงุฑูุฑ
โ  โโ security/        # hooks ุงูุฃูุงู
โ  โโ settings/        # hooks ุงูุฅุนุฏุงุฏุงุช
โ  โโ ui/              # hooks ูุงุฌูุฉ ุงููุณุชุฎุฏู
โโ services/           # 14 ุฎุฏูุฉ
โโ lib/                # ููุชุจุงุช ูุณุงุนุฏุฉ
โโ integrations/       # ุชูุงููุงุช ุฎุงุฑุฌูุฉ
```

---

## ๐ ูุธุงู ุงูุฃูุงู

### ุงูุฃุฏูุงุฑ (7 Roles)

```typescript
type AppRole = 
  | "nazer"       // ุงููุงุธุฑ - ุตูุงุญูุงุช ูุงููุฉ
  | "admin"       // ูุฏูุฑ ุงููุธุงู
  | "accountant"  // ูุญุงุณุจ
  | "cashier"     // ุฃููู ุงูุตูุฏูู
  | "archivist"   // ุฃุฑุดููู
  | "beneficiary" // ูุณุชููุฏ
  | "user";       // ูุณุชุฎุฏู ุนุงุฏู
```

### Row Level Security (RLS)
- โ 100% Coverage ูุฌููุน ุงูู162 ุฌุฏูู
- โ ุณูุงุณุงุช ููุจุณุทุฉ ููุญุณูุฉ (v2.6.0)
- โ ุญูุงูุฉ ุงูุจูุงูุงุช ุงูุญุณุงุณุฉ

---

## ๐ง Custom Hooks (152)

### Core Hooks
```typescript
useAuth()           // ุงููุตุงุฏูุฉ
useUserRole()       // ุงูุฏูุฑ ุงูุญุงูู
usePermissions()    // ุงูุตูุงุญูุงุช
useBeneficiaries()  // ุงููุณุชููุฏูู
useProperties()     // ุงูุนูุงุฑุงุช
useDistributions()  // ุงูุชูุฒูุนุงุช
```

### Feature Hooks
```typescript
useDistributionEngine()     // ูุญุฑู ุงูุชูุฒูุน
useApprovalWorkflows()      // ูุณุงุฑุงุช ุงูููุงููุงุช
useBankReconciliation()     // ุงูุชุณููุฉ ุงูุจูููุฉ
useAIInsights()             // ุงูุฑุคู ุงูุฐููุฉ
```

---

## ๐ฅ Edge Functions (39)

### ุงูุฃุณุงุณูุฉ
- `backup-database` - ุงููุณุฎ ุงูุงุญุชูุงุทู (ููุญูุฏ)
- `daily-notifications` - ุงูุฅุดุนุงุฑุงุช (ููุญูุฏ)
- `chatbot` - ุงููุณุงุนุฏ ุงูุฐูู
- `ocr-document` - ุงุณุชุฎุฑุงุฌ ุงููุตูุต

### ุงููุงููุฉ
- `auto-create-journal` - ุงููููุฏ ุงูุชููุงุฆูุฉ
- `simulate-distribution` - ูุญุงูุงุฉ ุงูุชูุฒูุน
- `zatca-submit` - ุงูููุชุฑุฉ ุงูุฅููุชุฑูููุฉ

---

## ๐ ุชุญุณููุงุช ุงูุฃุฏุงุก

### v2.6.8 - ุฅุตูุงุญ ููุงุฆู ูู useLayoutEffect
```
ุงููุดููุฉ: ุฎุทุฃ useLayoutEffect ุจุณุจุจ ุชูุณูู Radix UI
ุงูุญู: 
- ุฅุฒุงูุฉ radix-core ู radix-extended chunks
- ุฏูุฌ Radix UI ูุน vendor chunk
- ุถูุงู ุชุญููู React ูุจู ุงูููุชุจุงุช ุงูุชุงุจุนุฉ
ุงููุชูุฌุฉ: ุตูุญุฉ ุงูุชุฑุญูุจ ุชุนูู ุจุฏูู ุฃุฎุทุงุก
```

### v2.6.6 - ุชุญููู ููุฑู ููุตูุญุฉ ุงูุชุฑุญูุจูุฉ
```
ุงููุดููุฉ: ุงูุตูุญุฉ ุงูุชุฑุญูุจูุฉ ุชุธูุฑ "ุฌุงุฑู ุงูุชุญููู..."
ุงูุญู: 
- ููู ุงูุชููุฆุฉ ุงูุซูููุฉ (ErrorTracker, SelfHealing) ุฅูู MainLayout
- ูุตู Suspense ููุตูุญุงุช ุงูุนุงูุฉ
- ุชุญููู ููุฑู (eager) ููุตูุญุฉ ุงูุชุฑุญูุจูุฉ
- ุฅุถุงูุฉ PUBLIC_ROUTES ูู AuthContext
ุงููุชูุฌุฉ: ุชุญููู ููุฑู < 0.5 ุซุงููุฉ
```

### v2.6.5 - ุชุญุณูู LCP
```
ุงููุดููุฉ: LCP ~10 ุซูุงูู ููุตูุญุฉ ุงูุชุฑุญูุจูุฉ
ุงูุญู: ููู ููููุงุช ุงููุตุงุฏูุฉ ูู App.tsx ุฅูู MainLayout.tsx
ุงููุชูุฌุฉ: LCP < 2.5 ุซุงููุฉ
```

### v2.6.4 - ุชุญุณูู Dashboard
```
ุงููุดููุฉ: Dashboard ูุณุชุบุฑู ~3.3 ุซุงููุฉ
ุงูุญู: Promise.all ููุงุณุชุนูุงูุงุช ุงููุชูุงุฒูุฉ
ุงููุชูุฌุฉ: ~1.1 ุซุงููุฉ (-66%)
```

---

## ๐ ุฃูุถู ุงูููุงุฑุณุงุช

### 1. ุงุณุชุฎุฏุงู ุงูุฎุตุงุฆุต ุงูุตุญูุญุฉ
```typescript
// โ ุฎุทุฃ
property.property_type

// โ ุตุญูุญ
property.type
```

### 2. ุงูุงุณุชุนูุงูุงุช ุงููุชูุงุฒูุฉ
```typescript
// โ ุตุญูุญ
const [a, b] = await Promise.all([
  supabase.from('table1').select(),
  supabase.from('table2').select(),
]);
```

### 3. ุชุญููู ุงูููููุงุช
```typescript
// โ ุฎุทุฃ: ููููุงุช ุงููุตุงุฏูุฉ ูู App.tsx
// โ ุตุญูุญ: ููููุงุช ุงููุตุงุฏูุฉ ูู MainLayout.tsx
```

### 4. Vite Chunks - ูุง ุชูุตู ุงูููุชุจุงุช ุงูุชุงุจุนุฉ ูู React
```typescript
// โ ุฎุทุฃ: ุชูุณูู Radix UI ุฅูู chunks ูููุตูุฉ
if (id.includes('@radix-ui')) return 'radix-core';

// โ ุตุญูุญ: Radix UI ูุฐูุจ ูู vendor ูุน React
// ูุง ุชุถู ุฃู ุชูุณูู ุฎุงุต ูู @radix-ui
```

---

## ๐ฆ ุฅุฏุงุฑุฉ ุงูููุชุจุงุช (v2.6.9)

### ุงูููุชุจุงุช ุงููุญุฏุซุฉ
```
โ exceljs (ุจุฏูู xlsx) - ุฅุตูุงุญ CVE-2024-22363
โ src/lib/excel-helper.ts - Helper ููุญุฏ ููุชุตุฏูุฑ
```

### ุงูููุชุจุงุช ุงูุขููุฉ ูููุณุชูุจู
```
โณ react-hotkeys-hook - ุงุฎุชุตุงุฑุงุช ููุญุฉ ุงูููุงุชูุญ
โณ input-otp + otpauth - ุงููุตุงุฏูุฉ ุงูุซูุงุฆูุฉ
โณ @sentry/react - ูุฑุงูุจุฉ ุงูุฅูุชุงุฌ
โณ @tanstack/react-virtual - ููุงุฆู ุงูุชุฑุงุถูุฉ
```

### ููุญุฐู ุงููุฏูู (ูู GitHub)
```
โ xlsx - ุซุบุฑุฉ ุฃูููุฉ
โ embla-carousel-react - ุบูุฑ ูุณุชุฎุฏูุฉ
โ react-resizable-panels - ุบูุฑ ูุณุชุฎุฏูุฉ
โ react-is - ุบูุฑ ูุณุชุฎุฏูุฉ
```

๐ **ุงูุชูุงุตูู:** [DEPENDENCY_POLICY.md](./DEPENDENCY_POLICY.md)

---

## ๐ ุฑูุงุจุท ูููุฏุฉ

| ุงูููู | ุงููุตู |
|-------|-------|
| [DEPENDENCY_POLICY.md](./DEPENDENCY_POLICY.md) | ุณูุงุณุฉ ุงูููุชุจุงุช |
| [LATEST_FIXES.md](./LATEST_FIXES.md) | ุขุฎุฑ ุงูุฅุตูุงุญุงุช |
| [PERFORMANCE.md](./PERFORMANCE.md) | ุชูุฑูุฑ ุงูุฃุฏุงุก |
| [CLEANUP.md](./CLEANUP.md) | ุณุฌู ุงูุชูุธูู |
| [SECURITY_FIX_PLAN.md](./SECURITY_FIX_PLAN.md) | ุฎุทุฉ ุงูุฃูุงู |

---

**ุขุฎุฑ ุชุญุฏูุซ:** 5 ุฏูุณูุจุฑ 2025  
**ุงูุฅุตุฏุงุฑ:** 2.6.27
